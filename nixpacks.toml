# Nixpacks configuration for FlipOps Site
# This ensures Railway runs Next.js in server mode, not static export mode

[phases.setup]
nixPkgs = ["nodejs_22"]

[phases.install]
cmds = ["npm ci --include=dev"]

[phases.build]
cmds = ["npm run build"]

[start]
# Use next start for server-side rendering (not static export)
cmd = "npm run start"
